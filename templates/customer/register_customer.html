{% extends "header.html" %}

{% block style %}

{% endblock style %}

{% block title %}
Register Buyer
{% endblock title %}


{% block content %}
{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}
<div class="container col-lg-6 mb-3 mt-5">
  <div class=" text-center p-3" style="box-shadow: rgba(17, 12, 46, 0.15) 0px 48px 100px 0px;">

    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-outline">
        {{form.username}}
        <label class="form-label" for="id_username">Username</label>
      </div>
      <div class="row mb-4">
        <div class="col">
          <div class="form-outline">
            {{form.phone}}
            <label class="form-label" for="id_username">Phone</label>
          </div>
        </div>
        <div class="col">
          <div class="form-outline">
            {{form.email}}
            <label class="form-label" for="id_email">Email</label>
          </div>
        </div>
      </div>
      <div class="row mb-4">
        <div class="col">
          <div class="form-outline">
            {{form.first_name}}
            <label class="form-label" for="id_first_name">First name</label>
          </div>
        </div>
        <div class="col">
          <div class="form-outline">
            {{form.last_name}}
            <label class="form-label" for="id_last_name">Last name</label>
          </div>
        </div>
      </div>
      <div class="row mb-4">
        <div class="col">
          <div class="form-outline">
            {{form.profile_picture}}
            <label class="form-label" for="customFile">Passport Picture</label>
          </div>
        </div>
        <div class="col">
          <div class="form-outline">
            <img id="blah"
              src="https://images.vexels.com/media/users/3/129616/isolated/preview/fb517f8913bd99cd48ef00facb4a67c0-businessman-avatar-silhouette-by-vexels.png"
              class="img-fluid " width="200" height="200" />
          </div>
        </div>
      </div>

      <!-- {{form}} -->
      <!-- Submit button -->
      <button type="submit" class="btn btn-dark btn-block m-4 col-7 rounded-pill m-auto">Register</button>
    </form>
    </div>
</div>


{% endblock content %}

{% block script %}

<script>
  document.getElementById("id_profile_picture").classList.add("form-control")
  document.getElementById("id_username").classList.add("form-control")
</script>
<script>

  id_profile_picture.onchange = evt => {
    const [file] = id_profile_picture.files
    if (file) {
      blah.style.display = ""
      blah.src = URL.createObjectURL(file)
    }
  }
</script>


{% endblock script %}